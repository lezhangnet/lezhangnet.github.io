<html>

<head>
    <title>Le Zhang - lodash - array</title>
    <script src="https://cdn.jsdelivr.net/npm/lodash@4.17.11/lodash.min.js"></script>
</head>

<body>
    <h1>Plain JavaScript with lodash</h1>

    <p>Click the button to run; Open console to see result</p>

    <button id="button">Run!</button>

    <script>
        document.getElementById("button").onclick = function() {
            console.log("running");

            // setup: simple array
            const array1 = [1, 2, 3, 4];

            // flatMap: https://lodash.com/docs/4.17.11#flatMap
            console.log("----- array map and flatMap -----")
            function duplicate(n) {
                return [n, n];
            }
            console.log(_.map(array1, n => { return n * 2 })) // (4)Â [2, 4, 6, 8]
            console.log(_.map(array1, duplicate)); // (4) of Array(2): (2) [1, 1] (2) [2, 2] (2) [3, 3] (2) [4, 4]
            // NOTE got a 2D array without flatMap
            console.log(_.flatMap(array1, duplicate)); // (8) [1, 1, 2, 2, 3, 3, 4, 4]
            console.log(_.flatMap(array1, n => [n, n])); // same
            console.log(_(array1).flatMap(duplicate).value()); // same

            // the following will change the original array
            console.log(array1) // verify the original array is not changed
            const evens = _.remove(array1, function(n) {
                return n % 2 == 0;
            });
            console.log(array1) // the remaining elements
            console.log(evens)  // the removed elements
        };
    </script>
</body>
</html>
